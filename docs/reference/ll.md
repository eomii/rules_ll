# `//ll:ll.bzl`

Rules to build C and C++.

Build files should import these rules from `@rules_ll//ll:defs.bzl`.


<a id="ll_binary"></a>

## `ll_binary`

<pre><code>ll_binary(<a href="#ll_binary-name">name</a>, <a href="#ll_binary-angled_includes">angled_includes</a>, <a href="#ll_binary-compilation_mode">compilation_mode</a>, <a href="#ll_binary-compile_flags">compile_flags</a>, <a href="#ll_binary-data">data</a>, <a href="#ll_binary-defines">defines</a>, <a href="#ll_binary-depends_on_llvm">depends_on_llvm</a>,
          <a href="#ll_binary-deps">deps</a>, <a href="#ll_binary-exposed_angled_includes">exposed_angled_includes</a>, <a href="#ll_binary-exposed_defines">exposed_defines</a>, <a href="#ll_binary-exposed_hdrs">exposed_hdrs</a>, <a href="#ll_binary-exposed_includes">exposed_includes</a>,
          <a href="#ll_binary-exposed_interfaces">exposed_interfaces</a>, <a href="#ll_binary-hdrs">hdrs</a>, <a href="#ll_binary-includes">includes</a>, <a href="#ll_binary-interfaces">interfaces</a>, <a href="#ll_binary-libraries">libraries</a>, <a href="#ll_binary-link_flags">link_flags</a>, <a href="#ll_binary-sanitize">sanitize</a>, <a href="#ll_binary-srcs">srcs</a>,
          <a href="#ll_binary-toolchain_configuration">toolchain_configuration</a>)</code></pre>

Creates an executable.

Example:

  ```python
  ll_binary(
      srcs = ["my_executable.cpp"],
  )
  ```

`attributes`

| Name  | Description |
| :---- | :---------- |
| <a id="ll_binary-name"></a>`name` | <code><a href="https://bazel.build/docs/build-ref.html#name">Name</a></code>, required.<br><br> A unique name for this target.   |
| <a id="ll_binary-angled_includes"></a>`angled_includes` | <code>List of strings</code>, optional, defaults to <code>[]</code>.<br><br> Angled include paths, relative to the target workspace.<br><br>        Useful if you require include prefix stripping for dynamic paths, for         instance the ones generated by <code>bzlmod</code>. Instead of         <code>compile_flags = ["-Iexternal/mydep.someversion/include"]</code>, use         <code>angled_includes = ["include"]</code> to add the path to the workspace         automatically.<br><br>        Expands paths starting with <code>$(GENERATED)</code> to the workspace location in         the <code>GENDIR</code> path.<br><br>        Unavailable to downstream targets.   |
| <a id="ll_binary-compilation_mode"></a>`compilation_mode` | <code>String</code>, optional, defaults to <code>"cpp"</code>.<br><br> Enables compilation of heterogeneous single source files.<br><br>        Prefer this attribute over adding SYCL/HIP/CUDA flags manually in the         <code>compile_flags</code> and <code>link_flags</code>.<br><br>        See [CUDA and HIP](../guides/cuda_and_hip.md).<br><br>        <code>"cpp"</code> The default C++ toolchain.<br><br>        <code>"cuda_nvptx"</code> The CUDA toolchain.<br><br>        <code>"hip_nvptx"</code> The HIP toolchain.<br><br>        <code>"omp_cpu"</code> The OpenMP CPU toolchain.<br><br>        <code>"bootstrap"</code> The bootstrap toolchain used by internal dependencies of         the <code>ll_toolchain</code>.   |
| <a id="ll_binary-compile_flags"></a>`compile_flags` | <code>List of strings</code>, optional, defaults to <code>[]</code>.<br><br> Flags for the compiler.<br><br>        Pass a list of strings here. For instance <code>["-O3", "-std=c++20"]</code>.<br><br>        Split flag pairs <code>-Xclang -somearg</code> into separate flags         <code>["-Xclang", "-somearg"]</code>.<br><br>        Unavailable to downstream targets.   |
| <a id="ll_binary-data"></a>`data` | <code><a href="https://bazel.build/docs/build-ref.html#labels">List of labels</a></code>, optional, defaults to <code>[]</code>.<br><br> Extra files made available to compilation and linking steps.<br><br>        Not appended to the default command line arguments, but available to         actions. Reference these files manually for instance in the <code>includes</code>,         and <code>compile_flags</code> attributes.<br><br>        Use this attribute to make intermediary outputs from non-ll targets, for         example from <code>rules_cc</code> or <code>filegroup</code>, available to the rule.   |
| <a id="ll_binary-defines"></a>`defines` | <code>List of strings</code>, optional, defaults to <code>[]</code>.<br><br> Defines for this target.<br><br>        Pass a list of strings here. For instance         <code>["MYDEFINE_1", "MYDEFINE_2"]</code>.<br><br>        Unavailable to downstream targets.   |
| <a id="ll_binary-depends_on_llvm"></a>`depends_on_llvm` | <code>Boolean</code>, optional, defaults to <code>False</code>.<br><br> Whether this target directly depends on targets from the         <code>llvm-project-overlay</code>.<br><br>        Setting this to <code>True</code> makes the <code>cc_library</code> targets from the LLVM         project overlay available to this target.   |
| <a id="ll_binary-deps"></a>`deps` | <code><a href="https://bazel.build/docs/build-ref.html#labels">List of labels</a></code>, optional, defaults to <code>[]</code>.<br><br> The dependencies for this target.<br><br>        Use <code>ll_library</code> targets here. Other targets won't work.   |
| <a id="ll_binary-exposed_angled_includes"></a>`exposed_angled_includes` | <code>List of strings</code>, optional, defaults to <code>[]</code>.<br><br> Exposed angled include paths, relative to the original target         workspace.<br><br>        Expands paths starting with <code>$(GENERATED)</code> to the workspace location in         the <code>GENDIR</code> path.<br><br>        Added to the compile command line arguments of direct dependents.   |
| <a id="ll_binary-exposed_defines"></a>`exposed_defines` | <code>List of strings</code>, optional, defaults to <code>[]</code>.<br><br> Exposed defines for this target.<br><br>        Added to the compile command line arguments of direct dependents.   |
| <a id="ll_binary-exposed_hdrs"></a>`exposed_hdrs` | <code><a href="https://bazel.build/docs/build-ref.html#labels">List of labels</a></code>, optional, defaults to <code>[]</code>.<br><br> Exposed headers for this target.<br><br>        Direct dependents can see exposed headers. Put the public API headers         for libraries here.   |
| <a id="ll_binary-exposed_includes"></a>`exposed_includes` | <code>List of strings</code>, optional, defaults to <code>[]</code>.<br><br> Exposed include paths, relative to the original target         workspace.<br><br>        Expands paths starting with <code>$(GENERATED)</code> to the workspace location in         the <code>GENDIR</code> path.<br><br>        Added to the compile command line arguments of direct dependents.   |
| <a id="ll_binary-exposed_interfaces"></a>`exposed_interfaces` | <code><a href="https://bazel.build/docs/skylark/lib/dict.html">Dictionary: Label -> String</a></code>, optional, defaults to <code>{}</code>.<br><br> Transitive interfaces for this target.<br><br>        Makes precompiled modules and compiled objects visible to direct         dependents. Files in this attribute can see BMIs from modules in         <code>interfaces</code>. Primary module interfaces go here.   |
| <a id="ll_binary-hdrs"></a>`hdrs` | <code><a href="https://bazel.build/docs/build-ref.html#labels">List of labels</a></code>, optional, defaults to <code>[]</code>.<br><br> Header files for this target.<br><br>        When including a header file with a nested path, for instance         <code>#include "some/path/myheader.h"</code>, add <code>"some/path"</code> to <code>includes</code>         to make it visible to the rule.<br><br>        Unavailable to downstream targets.   |
| <a id="ll_binary-includes"></a>`includes` | <code>List of strings</code>, optional, defaults to <code>[]</code>.<br><br> Include paths, relative to the target workspace.<br><br>        Uses <code>-iquote</code>.<br><br>        Useful if you need custom include prefix stripping for dynamic paths,         for instance the ones generated by <code>bzlmod</code>. Instead of         <code>compile_flags = ["-iquoteexternal/mydep.someversion/include"]</code>, use         <code>includes = ["include"]</code> to add the path to the workspace         automatically.<br><br>        Expands paths starting with <code>$(GENERATED)</code> to the workspace location in         the <code>GENDIR</code> path.<br><br>        Unavailable to downstream targets.   |
| <a id="ll_binary-interfaces"></a>`interfaces` | <code><a href="https://bazel.build/docs/skylark/lib/dict.html">Dictionary: Label -> String</a></code>, optional, defaults to <code>{}</code>.<br><br> Module interfaces for this target.<br><br>        See [C++ modules](../guides/modules.md) for a guide.<br><br>        Internally, precompiles interfaces and compiles them to objects named         <code>&lt;filename&gt;.interface.o</code>. This way object files for modules implemented         with separate interfaces and implementations, for instance <code>A.cpp</code> in         <code>srcs</code> and <code>A.cppm</code> in <code>interfaces</code> don't clash.<br><br>        Since files in the same <code>interfaces</code> attribute can't see each other's         BMIs, split interfaces into different targets if they depend on each         other.<br><br>        Makes the BMIs in <code>interfaces</code> visible to <code>exposed_interfaces</code>. This way         you can put all module partitions in <code>interfaces</code> and the primary module         interface in <code>exposed_interfaces</code>.   |
| <a id="ll_binary-libraries"></a>`libraries` | <code><a href="https://bazel.build/docs/build-ref.html#labels">List of labels</a></code>, optional, defaults to <code>[]</code>.<br><br> Libraries linked to the final executable.<br><br>        Adds these libraries to the command line arguments for the linker.   |
| <a id="ll_binary-link_flags"></a>`link_flags` | <code>List of strings</code>, optional, defaults to <code>[]</code>.<br><br> Flags for the linker.<br><br>        Place library search paths and external link targets here.<br><br>        Assuming you have a library <code>/some/path/libmylib.a</code> on your host system,         you can make <code>mylib.a</code> available to the linker by passing         <code>["-L/some/path", "-lmylib"]</code> to this attribute.<br><br>        Prefer the <code>libraries</code> attribute for library files already present         within the Bazel build graph.   |
| <a id="ll_binary-sanitize"></a>`sanitize` | <code>List of strings</code>, optional, defaults to <code>[]</code>.<br><br> Enable sanitizers for this target.<br><br>        See the [Sanitizers](../guides/sanitizers.md) guide.<br><br>        Some sanitizers come with heavy performance penalties. Enabling several         sanitizers at the same time often breaks builds. If possible, use just         one at a time.<br><br>        Sanitizers produce nondeterministic error reports. Run sanitized         executables several times and build them with different optimization         levels to maximize coverage.<br><br>        <code>"address"</code>: Enable AddressSanitizer to detect memory errors.<br><br>        <code>"leak"</code>: Enable LeakSanitizer to detect memory leaks.<br><br>        <code>"memory"</code>: Enable MemorySanitizer to detect uninitialized reads.<br><br>        <code>"undefined_behavior"</code>: Enable UndefinedBehaviorSanitizer to detect             undefined behavior.<br><br>        <code>"thread"</code>: Enable ThreadSanitizer to detect data races.   |
| <a id="ll_binary-srcs"></a>`srcs` | <code><a href="https://bazel.build/docs/build-ref.html#labels">List of labels</a></code>, optional, defaults to <code>[]</code>.<br><br> Compilable source files for this target.<br><br>        Allowed file extensions: <code>[".ll", ".o", ".S", ".c", ".cl", ".cpp"]</code>.<br><br>        Place headers in the <code>hdrs</code> attribute.   |
| <a id="ll_binary-toolchain_configuration"></a>`toolchain_configuration` | <code><a href="https://bazel.build/docs/build-ref.html#labels">Label</a></code>, optional, defaults to <code>//ll:current_ll_toolchain_configuration</code>.<br><br> TODO   |


<a id="ll_library"></a>

## `ll_library`

<pre><code>ll_library(<a href="#ll_library-name">name</a>, <a href="#ll_library-angled_includes">angled_includes</a>, <a href="#ll_library-compilation_mode">compilation_mode</a>, <a href="#ll_library-compile_flags">compile_flags</a>, <a href="#ll_library-data">data</a>, <a href="#ll_library-defines">defines</a>, <a href="#ll_library-depends_on_llvm">depends_on_llvm</a>,
           <a href="#ll_library-deps">deps</a>, <a href="#ll_library-emit">emit</a>, <a href="#ll_library-exposed_angled_includes">exposed_angled_includes</a>, <a href="#ll_library-exposed_defines">exposed_defines</a>, <a href="#ll_library-exposed_hdrs">exposed_hdrs</a>, <a href="#ll_library-exposed_includes">exposed_includes</a>,
           <a href="#ll_library-exposed_interfaces">exposed_interfaces</a>, <a href="#ll_library-hdrs">hdrs</a>, <a href="#ll_library-includes">includes</a>, <a href="#ll_library-interfaces">interfaces</a>, <a href="#ll_library-sanitize">sanitize</a>, <a href="#ll_library-shared_object_link_flags">shared_object_link_flags</a>, <a href="#ll_library-srcs">srcs</a>,
           <a href="#ll_library-toolchain_configuration">toolchain_configuration</a>)</code></pre>

Creates a static archive.

Example:

  ```python
  ll_library(
      srcs = ["my_library.cpp"],
  )
  ```

`attributes`

| Name  | Description |
| :---- | :---------- |
| <a id="ll_library-name"></a>`name` | <code><a href="https://bazel.build/docs/build-ref.html#name">Name</a></code>, required.<br><br> A unique name for this target.   |
| <a id="ll_library-angled_includes"></a>`angled_includes` | <code>List of strings</code>, optional, defaults to <code>[]</code>.<br><br> Angled include paths, relative to the target workspace.<br><br>        Useful if you require include prefix stripping for dynamic paths, for         instance the ones generated by <code>bzlmod</code>. Instead of         <code>compile_flags = ["-Iexternal/mydep.someversion/include"]</code>, use         <code>angled_includes = ["include"]</code> to add the path to the workspace         automatically.<br><br>        Expands paths starting with <code>$(GENERATED)</code> to the workspace location in         the <code>GENDIR</code> path.<br><br>        Unavailable to downstream targets.   |
| <a id="ll_library-compilation_mode"></a>`compilation_mode` | <code>String</code>, optional, defaults to <code>"cpp"</code>.<br><br> Enables compilation of heterogeneous single source files.<br><br>        Prefer this attribute over adding SYCL/HIP/CUDA flags manually in the         <code>compile_flags</code> and <code>link_flags</code>.<br><br>        See [CUDA and HIP](../guides/cuda_and_hip.md).<br><br>        <code>"cpp"</code> The default C++ toolchain.<br><br>        <code>"cuda_nvptx"</code> The CUDA toolchain.<br><br>        <code>"hip_nvptx"</code> The HIP toolchain.<br><br>        <code>"omp_cpu"</code> The OpenMP CPU toolchain.<br><br>        <code>"bootstrap"</code> The bootstrap toolchain used by internal dependencies of         the <code>ll_toolchain</code>.   |
| <a id="ll_library-compile_flags"></a>`compile_flags` | <code>List of strings</code>, optional, defaults to <code>[]</code>.<br><br> Flags for the compiler.<br><br>        Pass a list of strings here. For instance <code>["-O3", "-std=c++20"]</code>.<br><br>        Split flag pairs <code>-Xclang -somearg</code> into separate flags         <code>["-Xclang", "-somearg"]</code>.<br><br>        Unavailable to downstream targets.   |
| <a id="ll_library-data"></a>`data` | <code><a href="https://bazel.build/docs/build-ref.html#labels">List of labels</a></code>, optional, defaults to <code>[]</code>.<br><br> Extra files made available to compilation and linking steps.<br><br>        Not appended to the default command line arguments, but available to         actions. Reference these files manually for instance in the <code>includes</code>,         and <code>compile_flags</code> attributes.<br><br>        Use this attribute to make intermediary outputs from non-ll targets, for         example from <code>rules_cc</code> or <code>filegroup</code>, available to the rule.   |
| <a id="ll_library-defines"></a>`defines` | <code>List of strings</code>, optional, defaults to <code>[]</code>.<br><br> Defines for this target.<br><br>        Pass a list of strings here. For instance         <code>["MYDEFINE_1", "MYDEFINE_2"]</code>.<br><br>        Unavailable to downstream targets.   |
| <a id="ll_library-depends_on_llvm"></a>`depends_on_llvm` | <code>Boolean</code>, optional, defaults to <code>False</code>.<br><br> Whether this target directly depends on targets from the         <code>llvm-project-overlay</code>.<br><br>        Setting this to <code>True</code> makes the <code>cc_library</code> targets from the LLVM         project overlay available to this target.   |
| <a id="ll_library-deps"></a>`deps` | <code><a href="https://bazel.build/docs/build-ref.html#labels">List of labels</a></code>, optional, defaults to <code>[]</code>.<br><br> The dependencies for this target.<br><br>        Use <code>ll_library</code> targets here. Other targets won't work.   |
| <a id="ll_library-emit"></a>`emit` | <code>List of strings</code>, optional, defaults to <code>["archive"]</code>.<br><br> Sets the output mode.<br><br>        You can enable several output types at the same time.<br><br>        <code>"archive"</code> invokes the archiver and adds an archive with a <code>.a</code>         extension to the outputs.<br><br>        <code>"shared_object"</code> invokes the linker and adds a shared object with a         <code>.so</code> extension to the outputs.<br><br>        <code>"objects"</code> adds loose object files to the outputs.   |
| <a id="ll_library-exposed_angled_includes"></a>`exposed_angled_includes` | <code>List of strings</code>, optional, defaults to <code>[]</code>.<br><br> Exposed angled include paths, relative to the original target         workspace.<br><br>        Expands paths starting with <code>$(GENERATED)</code> to the workspace location in         the <code>GENDIR</code> path.<br><br>        Added to the compile command line arguments of direct dependents.   |
| <a id="ll_library-exposed_defines"></a>`exposed_defines` | <code>List of strings</code>, optional, defaults to <code>[]</code>.<br><br> Exposed defines for this target.<br><br>        Added to the compile command line arguments of direct dependents.   |
| <a id="ll_library-exposed_hdrs"></a>`exposed_hdrs` | <code><a href="https://bazel.build/docs/build-ref.html#labels">List of labels</a></code>, optional, defaults to <code>[]</code>.<br><br> Exposed headers for this target.<br><br>        Direct dependents can see exposed headers. Put the public API headers         for libraries here.   |
| <a id="ll_library-exposed_includes"></a>`exposed_includes` | <code>List of strings</code>, optional, defaults to <code>[]</code>.<br><br> Exposed include paths, relative to the original target         workspace.<br><br>        Expands paths starting with <code>$(GENERATED)</code> to the workspace location in         the <code>GENDIR</code> path.<br><br>        Added to the compile command line arguments of direct dependents.   |
| <a id="ll_library-exposed_interfaces"></a>`exposed_interfaces` | <code><a href="https://bazel.build/docs/skylark/lib/dict.html">Dictionary: Label -> String</a></code>, optional, defaults to <code>{}</code>.<br><br> Transitive interfaces for this target.<br><br>        Makes precompiled modules and compiled objects visible to direct         dependents. Files in this attribute can see BMIs from modules in         <code>interfaces</code>. Primary module interfaces go here.   |
| <a id="ll_library-hdrs"></a>`hdrs` | <code><a href="https://bazel.build/docs/build-ref.html#labels">List of labels</a></code>, optional, defaults to <code>[]</code>.<br><br> Header files for this target.<br><br>        When including a header file with a nested path, for instance         <code>#include "some/path/myheader.h"</code>, add <code>"some/path"</code> to <code>includes</code>         to make it visible to the rule.<br><br>        Unavailable to downstream targets.   |
| <a id="ll_library-includes"></a>`includes` | <code>List of strings</code>, optional, defaults to <code>[]</code>.<br><br> Include paths, relative to the target workspace.<br><br>        Uses <code>-iquote</code>.<br><br>        Useful if you need custom include prefix stripping for dynamic paths,         for instance the ones generated by <code>bzlmod</code>. Instead of         <code>compile_flags = ["-iquoteexternal/mydep.someversion/include"]</code>, use         <code>includes = ["include"]</code> to add the path to the workspace         automatically.<br><br>        Expands paths starting with <code>$(GENERATED)</code> to the workspace location in         the <code>GENDIR</code> path.<br><br>        Unavailable to downstream targets.   |
| <a id="ll_library-interfaces"></a>`interfaces` | <code><a href="https://bazel.build/docs/skylark/lib/dict.html">Dictionary: Label -> String</a></code>, optional, defaults to <code>{}</code>.<br><br> Module interfaces for this target.<br><br>        See [C++ modules](../guides/modules.md) for a guide.<br><br>        Internally, precompiles interfaces and compiles them to objects named         <code>&lt;filename&gt;.interface.o</code>. This way object files for modules implemented         with separate interfaces and implementations, for instance <code>A.cpp</code> in         <code>srcs</code> and <code>A.cppm</code> in <code>interfaces</code> don't clash.<br><br>        Since files in the same <code>interfaces</code> attribute can't see each other's         BMIs, split interfaces into different targets if they depend on each         other.<br><br>        Makes the BMIs in <code>interfaces</code> visible to <code>exposed_interfaces</code>. This way         you can put all module partitions in <code>interfaces</code> and the primary module         interface in <code>exposed_interfaces</code>.   |
| <a id="ll_library-sanitize"></a>`sanitize` | <code>List of strings</code>, optional, defaults to <code>[]</code>.<br><br> Enable sanitizers for this target.<br><br>        See the [Sanitizers](../guides/sanitizers.md) guide.<br><br>        Some sanitizers come with heavy performance penalties. Enabling several         sanitizers at the same time often breaks builds. If possible, use just         one at a time.<br><br>        Sanitizers produce nondeterministic error reports. Run sanitized         executables several times and build them with different optimization         levels to maximize coverage.<br><br>        <code>"address"</code>: Enable AddressSanitizer to detect memory errors.<br><br>        <code>"leak"</code>: Enable LeakSanitizer to detect memory leaks.<br><br>        <code>"memory"</code>: Enable MemorySanitizer to detect uninitialized reads.<br><br>        <code>"undefined_behavior"</code>: Enable UndefinedBehaviorSanitizer to detect             undefined behavior.<br><br>        <code>"thread"</code>: Enable ThreadSanitizer to detect data races.   |
| <a id="ll_library-shared_object_link_flags"></a>`shared_object_link_flags` | <code>List of strings</code>, optional, defaults to <code>[]</code>.<br><br> Flags for the linker when emitting shared objects.<br><br>        Used if <code>emit</code> includes <code>"shared_object"</code>.   |
| <a id="ll_library-srcs"></a>`srcs` | <code><a href="https://bazel.build/docs/build-ref.html#labels">List of labels</a></code>, optional, defaults to <code>[]</code>.<br><br> Compilable source files for this target.<br><br>        Allowed file extensions: <code>[".ll", ".o", ".S", ".c", ".cl", ".cpp"]</code>.<br><br>        Place headers in the <code>hdrs</code> attribute.   |
| <a id="ll_library-toolchain_configuration"></a>`toolchain_configuration` | <code><a href="https://bazel.build/docs/build-ref.html#labels">Label</a></code>, optional, defaults to <code>//ll:current_ll_toolchain_configuration</code>.<br><br> TODO   |


<a id="ll_test"></a>

## `ll_test`

<pre><code>ll_test(<a href="#ll_test-name">name</a>, <a href="#ll_test-angled_includes">angled_includes</a>, <a href="#ll_test-compilation_mode">compilation_mode</a>, <a href="#ll_test-compile_flags">compile_flags</a>, <a href="#ll_test-data">data</a>, <a href="#ll_test-defines">defines</a>, <a href="#ll_test-depends_on_llvm">depends_on_llvm</a>,
        <a href="#ll_test-deps">deps</a>, <a href="#ll_test-exposed_angled_includes">exposed_angled_includes</a>, <a href="#ll_test-exposed_defines">exposed_defines</a>, <a href="#ll_test-exposed_hdrs">exposed_hdrs</a>, <a href="#ll_test-exposed_includes">exposed_includes</a>,
        <a href="#ll_test-exposed_interfaces">exposed_interfaces</a>, <a href="#ll_test-hdrs">hdrs</a>, <a href="#ll_test-includes">includes</a>, <a href="#ll_test-interfaces">interfaces</a>, <a href="#ll_test-libraries">libraries</a>, <a href="#ll_test-link_flags">link_flags</a>, <a href="#ll_test-sanitize">sanitize</a>, <a href="#ll_test-srcs">srcs</a>,
        <a href="#ll_test-toolchain_configuration">toolchain_configuration</a>)</code></pre>

Testable wrapper around `ll_binary`.

Consider using this rule over skylib's `native_test` targets to propagate shared
libraries to the test invocations.

Example:

  ```python
  ll_test(
      name = "amdgpu_test",
      srcs = ["my_executable.cpp"],
      compilation_mode = "hip_amdgpu",
      compile_flags = OFFLOAD_ALL_AMDGPU + [
          "-std=c++20",
      ],
      tags = ["amdgpu"],  # Not required, but makes grouping tests easier.
  )
  ```

`attributes`

| Name  | Description |
| :---- | :---------- |
| <a id="ll_test-name"></a>`name` | <code><a href="https://bazel.build/docs/build-ref.html#name">Name</a></code>, required.<br><br> A unique name for this target.   |
| <a id="ll_test-angled_includes"></a>`angled_includes` | <code>List of strings</code>, optional, defaults to <code>[]</code>.<br><br> Angled include paths, relative to the target workspace.<br><br>        Useful if you require include prefix stripping for dynamic paths, for         instance the ones generated by <code>bzlmod</code>. Instead of         <code>compile_flags = ["-Iexternal/mydep.someversion/include"]</code>, use         <code>angled_includes = ["include"]</code> to add the path to the workspace         automatically.<br><br>        Expands paths starting with <code>$(GENERATED)</code> to the workspace location in         the <code>GENDIR</code> path.<br><br>        Unavailable to downstream targets.   |
| <a id="ll_test-compilation_mode"></a>`compilation_mode` | <code>String</code>, optional, defaults to <code>"cpp"</code>.<br><br> Enables compilation of heterogeneous single source files.<br><br>        Prefer this attribute over adding SYCL/HIP/CUDA flags manually in the         <code>compile_flags</code> and <code>link_flags</code>.<br><br>        See [CUDA and HIP](../guides/cuda_and_hip.md).<br><br>        <code>"cpp"</code> The default C++ toolchain.<br><br>        <code>"cuda_nvptx"</code> The CUDA toolchain.<br><br>        <code>"hip_nvptx"</code> The HIP toolchain.<br><br>        <code>"omp_cpu"</code> The OpenMP CPU toolchain.<br><br>        <code>"bootstrap"</code> The bootstrap toolchain used by internal dependencies of         the <code>ll_toolchain</code>.   |
| <a id="ll_test-compile_flags"></a>`compile_flags` | <code>List of strings</code>, optional, defaults to <code>[]</code>.<br><br> Flags for the compiler.<br><br>        Pass a list of strings here. For instance <code>["-O3", "-std=c++20"]</code>.<br><br>        Split flag pairs <code>-Xclang -somearg</code> into separate flags         <code>["-Xclang", "-somearg"]</code>.<br><br>        Unavailable to downstream targets.   |
| <a id="ll_test-data"></a>`data` | <code><a href="https://bazel.build/docs/build-ref.html#labels">List of labels</a></code>, optional, defaults to <code>[]</code>.<br><br> Extra files made available to compilation and linking steps.<br><br>        Not appended to the default command line arguments, but available to         actions. Reference these files manually for instance in the <code>includes</code>,         and <code>compile_flags</code> attributes.<br><br>        Use this attribute to make intermediary outputs from non-ll targets, for         example from <code>rules_cc</code> or <code>filegroup</code>, available to the rule.   |
| <a id="ll_test-defines"></a>`defines` | <code>List of strings</code>, optional, defaults to <code>[]</code>.<br><br> Defines for this target.<br><br>        Pass a list of strings here. For instance         <code>["MYDEFINE_1", "MYDEFINE_2"]</code>.<br><br>        Unavailable to downstream targets.   |
| <a id="ll_test-depends_on_llvm"></a>`depends_on_llvm` | <code>Boolean</code>, optional, defaults to <code>False</code>.<br><br> Whether this target directly depends on targets from the         <code>llvm-project-overlay</code>.<br><br>        Setting this to <code>True</code> makes the <code>cc_library</code> targets from the LLVM         project overlay available to this target.   |
| <a id="ll_test-deps"></a>`deps` | <code><a href="https://bazel.build/docs/build-ref.html#labels">List of labels</a></code>, optional, defaults to <code>[]</code>.<br><br> The dependencies for this target.<br><br>        Use <code>ll_library</code> targets here. Other targets won't work.   |
| <a id="ll_test-exposed_angled_includes"></a>`exposed_angled_includes` | <code>List of strings</code>, optional, defaults to <code>[]</code>.<br><br> Exposed angled include paths, relative to the original target         workspace.<br><br>        Expands paths starting with <code>$(GENERATED)</code> to the workspace location in         the <code>GENDIR</code> path.<br><br>        Added to the compile command line arguments of direct dependents.   |
| <a id="ll_test-exposed_defines"></a>`exposed_defines` | <code>List of strings</code>, optional, defaults to <code>[]</code>.<br><br> Exposed defines for this target.<br><br>        Added to the compile command line arguments of direct dependents.   |
| <a id="ll_test-exposed_hdrs"></a>`exposed_hdrs` | <code><a href="https://bazel.build/docs/build-ref.html#labels">List of labels</a></code>, optional, defaults to <code>[]</code>.<br><br> Exposed headers for this target.<br><br>        Direct dependents can see exposed headers. Put the public API headers         for libraries here.   |
| <a id="ll_test-exposed_includes"></a>`exposed_includes` | <code>List of strings</code>, optional, defaults to <code>[]</code>.<br><br> Exposed include paths, relative to the original target         workspace.<br><br>        Expands paths starting with <code>$(GENERATED)</code> to the workspace location in         the <code>GENDIR</code> path.<br><br>        Added to the compile command line arguments of direct dependents.   |
| <a id="ll_test-exposed_interfaces"></a>`exposed_interfaces` | <code><a href="https://bazel.build/docs/skylark/lib/dict.html">Dictionary: Label -> String</a></code>, optional, defaults to <code>{}</code>.<br><br> Transitive interfaces for this target.<br><br>        Makes precompiled modules and compiled objects visible to direct         dependents. Files in this attribute can see BMIs from modules in         <code>interfaces</code>. Primary module interfaces go here.   |
| <a id="ll_test-hdrs"></a>`hdrs` | <code><a href="https://bazel.build/docs/build-ref.html#labels">List of labels</a></code>, optional, defaults to <code>[]</code>.<br><br> Header files for this target.<br><br>        When including a header file with a nested path, for instance         <code>#include "some/path/myheader.h"</code>, add <code>"some/path"</code> to <code>includes</code>         to make it visible to the rule.<br><br>        Unavailable to downstream targets.   |
| <a id="ll_test-includes"></a>`includes` | <code>List of strings</code>, optional, defaults to <code>[]</code>.<br><br> Include paths, relative to the target workspace.<br><br>        Uses <code>-iquote</code>.<br><br>        Useful if you need custom include prefix stripping for dynamic paths,         for instance the ones generated by <code>bzlmod</code>. Instead of         <code>compile_flags = ["-iquoteexternal/mydep.someversion/include"]</code>, use         <code>includes = ["include"]</code> to add the path to the workspace         automatically.<br><br>        Expands paths starting with <code>$(GENERATED)</code> to the workspace location in         the <code>GENDIR</code> path.<br><br>        Unavailable to downstream targets.   |
| <a id="ll_test-interfaces"></a>`interfaces` | <code><a href="https://bazel.build/docs/skylark/lib/dict.html">Dictionary: Label -> String</a></code>, optional, defaults to <code>{}</code>.<br><br> Module interfaces for this target.<br><br>        See [C++ modules](../guides/modules.md) for a guide.<br><br>        Internally, precompiles interfaces and compiles them to objects named         <code>&lt;filename&gt;.interface.o</code>. This way object files for modules implemented         with separate interfaces and implementations, for instance <code>A.cpp</code> in         <code>srcs</code> and <code>A.cppm</code> in <code>interfaces</code> don't clash.<br><br>        Since files in the same <code>interfaces</code> attribute can't see each other's         BMIs, split interfaces into different targets if they depend on each         other.<br><br>        Makes the BMIs in <code>interfaces</code> visible to <code>exposed_interfaces</code>. This way         you can put all module partitions in <code>interfaces</code> and the primary module         interface in <code>exposed_interfaces</code>.   |
| <a id="ll_test-libraries"></a>`libraries` | <code><a href="https://bazel.build/docs/build-ref.html#labels">List of labels</a></code>, optional, defaults to <code>[]</code>.<br><br> Libraries linked to the final executable.<br><br>        Adds these libraries to the command line arguments for the linker.   |
| <a id="ll_test-link_flags"></a>`link_flags` | <code>List of strings</code>, optional, defaults to <code>[]</code>.<br><br> Flags for the linker.<br><br>        Place library search paths and external link targets here.<br><br>        Assuming you have a library <code>/some/path/libmylib.a</code> on your host system,         you can make <code>mylib.a</code> available to the linker by passing         <code>["-L/some/path", "-lmylib"]</code> to this attribute.<br><br>        Prefer the <code>libraries</code> attribute for library files already present         within the Bazel build graph.   |
| <a id="ll_test-sanitize"></a>`sanitize` | <code>List of strings</code>, optional, defaults to <code>[]</code>.<br><br> Enable sanitizers for this target.<br><br>        See the [Sanitizers](../guides/sanitizers.md) guide.<br><br>        Some sanitizers come with heavy performance penalties. Enabling several         sanitizers at the same time often breaks builds. If possible, use just         one at a time.<br><br>        Sanitizers produce nondeterministic error reports. Run sanitized         executables several times and build them with different optimization         levels to maximize coverage.<br><br>        <code>"address"</code>: Enable AddressSanitizer to detect memory errors.<br><br>        <code>"leak"</code>: Enable LeakSanitizer to detect memory leaks.<br><br>        <code>"memory"</code>: Enable MemorySanitizer to detect uninitialized reads.<br><br>        <code>"undefined_behavior"</code>: Enable UndefinedBehaviorSanitizer to detect             undefined behavior.<br><br>        <code>"thread"</code>: Enable ThreadSanitizer to detect data races.   |
| <a id="ll_test-srcs"></a>`srcs` | <code><a href="https://bazel.build/docs/build-ref.html#labels">List of labels</a></code>, optional, defaults to <code>[]</code>.<br><br> Compilable source files for this target.<br><br>        Allowed file extensions: <code>[".ll", ".o", ".S", ".c", ".cl", ".cpp"]</code>.<br><br>        Place headers in the <code>hdrs</code> attribute.   |
| <a id="ll_test-toolchain_configuration"></a>`toolchain_configuration` | <code><a href="https://bazel.build/docs/build-ref.html#labels">Label</a></code>, optional, defaults to <code>//ll:current_ll_toolchain_configuration</code>.<br><br> TODO   |
